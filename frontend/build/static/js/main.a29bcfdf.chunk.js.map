{"version":3,"sources":["components/Login.js","components/headphone.png","components/LandingPage.js","components/spotify.png","components/Forms.js","components/useAuth.js","App.js","index.js"],"names":["Login","className","href","LandingPage","style","height","width","src","headphone","alt","spotifyAPI","SpotifyWebApi","clientId","Forms","accessToken","code","useState","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","useEffect","axios","post","then","res","console","log","data","window","history","pushState","catch","err","useAuth","search1","setSearch1","search2","setSearch2","playlist","setPlaylist","song1","setSong1","song2","setSong2","created","setCreated","searchResults1","setSearchResults1","searchResults2","setSearchResults2","searchTracks","body","tracks","items","map","track","smallestImage","album","images","reduce","smallest","image","artist","artists","name","artistID","id","title","url","uri","albumUrl","for","type","onChange","e","target","value","placeholder","display","Dropdown","Item","onClick","spotify","to","getRecommendations","min_energy","seed_artists","seed_genres","seed_tracks","min_popularity","recommendations","rec","handlePlaylist","playlistName","prompt","createPlaylist","playlistID","addTracksToPlaylist","alert","exportPlaylist","URLSearchParams","location","search","get","App","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a29bcfdf.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AUTH_URL = \"https://accounts.spotify.com/authorize?client_id=4362dfe6f5c244dbbc69cff0883518c4&response_type=code&redirect_uri=https://www.playfulmusic-app.com/&scope=streaming%20user-read-email%20playlist-modify-public%20playlist-modify-private%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-top-read%20user-modify-playback-state%20playlist-read-private\";\r\n\r\nconst Login = () => {\r\n    return (\r\n        <div className=\"login-btn-container\">\r\n            <a href={AUTH_URL}>\r\n                <button className=\"btn btn-success btn-lg\">\r\n                    Login with Spotify\r\n                </button>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","export default __webpack_public_path__ + \"static/media/headphone.fab80bce.png\";","import React from 'react';\r\nimport Login from './Login';\r\nimport headphone from './headphone.png';\r\n\r\nconst LandingPage = () => {\r\n    return (\r\n        <div className=\"landing-container\">\r\n            <div className=\"title-pic\">\r\n                <h1 className=\"landing-title\">Playful</h1>\r\n                <h4 className=\"landing-subheading\">Custom playlists based on two songs of your choice</h4>\r\n                <h6 className=\"landing-subheading\">View track metadata of your new playlist</h6>\r\n                <img className=\"headphone\" style={{height: \"360px\", width: \"460px\"}} src={headphone} alt=\"headphone\" />\r\n            </div>\r\n            <div className=\"mt-4 login-component\">\r\n                <Login />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LandingPage;","export default __webpack_public_path__ + \"static/media/spotify.77b9fd8b.png\";","import React from 'react';\r\nimport useAuth from './useAuth';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport SpotifyWebApi from 'spotify-web-api-node';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport spotify from './spotify.png';\r\n// create new instance of Spotify API with given client credentials\r\nconst spotifyAPI = new SpotifyWebApi({\r\n    clientId: \"4362dfe6f5c244dbbc69cff0883518c4\", \r\n});\r\n\r\nconst Forms = ({code}) => {\r\n    // used for post request to server with auth code\r\n    const accessToken = useAuth(code);\r\n    \r\n    const [search1, setSearch1] = useState(\"\");\r\n    const [search2, setSearch2] = useState(\"\");\r\n    const [playlist, setPlaylist] = useState([]);\r\n    const [song1, setSong1] = useState(null);\r\n    const [song2, setSong2] = useState(null);\r\n    const [created, setCreated] = useState(false);\r\n    const [searchResults1, setSearchResults1] = useState([]);\r\n    const [searchResults2, setSearchResults2] = useState([]);\r\n    // perform a check on whether the access token is null; if not, set it\r\n    \r\n    useEffect(() => {\r\n        if (!accessToken) {\r\n            return;\r\n        }\r\n        spotifyAPI.setAccessToken(accessToken);\r\n    }, [accessToken])\r\n\r\n    // call to api based on search query; return album metadata into an array\r\n    useEffect(() => {\r\n        if (!search1) {\r\n            setPlaylist([]);\r\n            setCreated(false);\r\n            setSong1(null);\r\n        }\r\n        // testing search results\r\n        console.log(searchResults1);\r\n        spotifyAPI.searchTracks(search1).then(res => {\r\n            setSearchResults1(res.body.tracks.items.map(track => {\r\n                // return the smallest album image by cycling through all images\r\n                const smallestImage = track.album.images.reduce((smallest, image) => {\r\n                    if (image.height < smallest.height) return image\r\n                    return smallest\r\n                }, track.album.images[0])\r\n                return {\r\n                    artist: track.artists[0].name,\r\n                    artistID: track.artists[0].id,\r\n                    title: track.name,\r\n                    id: track.id,\r\n                    url: track.uri,\r\n                    albumUrl: smallestImage.url\r\n                }\r\n            })\r\n        )});\r\n\r\n    }, [search1, accessToken])\r\n    // call to api based on second search query; return album metadata into an array\r\n    useEffect(() => {\r\n        if (!search2) {\r\n            setPlaylist([]);\r\n            setCreated(false);\r\n            setSong2(null);\r\n        }\r\n        spotifyAPI.searchTracks(search2).then(res => {\r\n            setSearchResults2(res.body.tracks.items.map(track => {\r\n                // return the smallest album image by cycling through all images\r\n                const smallestImage = track.album.images.reduce((smallest, image) => {\r\n                    if (image.height < smallest.height) return image\r\n                    return smallest\r\n                }, track.album.images[0])\r\n                return {\r\n                    artist: track.artists[0].name,\r\n                    artistID: track.artists[0].id,\r\n                    title: track.name,\r\n                    id: track.id,\r\n                    url: track.uri,\r\n                    albumUrl: smallestImage.url\r\n                }\r\n            })\r\n        )});\r\n\r\n    }, [search2, accessToken])\r\n\r\n    const handlePlaylist = () => {\r\n        if (!song1 || !song2) {\r\n            setCreated(false);\r\n            setPlaylist([]);\r\n            return;\r\n        }\r\n        setCreated(true);\r\n        spotifyAPI.getRecommendations({\r\n            min_energy: 0.5,\r\n            seed_artists: [song1.artistID, song2.artistID],\r\n            seed_genres: [],\r\n            seed_tracks: [song1.id, song2.id],\r\n            min_popularity: 60\r\n        })\r\n        .then(res => {\r\n          let recommendations = res.body.tracks;\r\n          setPlaylist(recommendations.map(rec => {\r\n            return {\r\n                artist: rec.artists[0].name,\r\n                artistID: rec.artists[0].id,\r\n                title: rec.name,\r\n                uri: rec.uri,\r\n                id: rec.id\r\n            }\r\n          }));\r\n          \r\n        })\r\n        .catch(err => {\r\n            console.log(\"Something went wrong!\", err);\r\n        })\r\n    }\r\n\r\n    const exportPlaylist = () => {\r\n        if (!song1 || !song2) {\r\n            setCreated(false);\r\n            setPlaylist([]);\r\n            return;\r\n        }\r\n        let playlistName = prompt(\"Give your playlist a name...\");\r\n        spotifyAPI.createPlaylist(playlistName, { 'description': 'My custom playlist from that cool Playful app', 'public': false })\r\n        .then(data => {\r\n            const playlistID = data.body.id;\r\n            spotifyAPI.addTracksToPlaylist(playlistID, playlist.map(track => track.uri))\r\n            .then(res => {\r\n                alert('Added tracks to playlist!');\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"forms-container\">\r\n            <h1 className=\"landing-title\">Playful</h1>\r\n            <h3 className=\"landing-subheading\">Custom playlists based on two songs of your choice</h3>\r\n            <h4 className=\"landing-subheading\">View track metadata of your new playlist</h4>\r\n            <form className=\"search-form\">\r\n                <div className=\"form-group mt-4\">\r\n                    <label for=\"track1\">Choose Track 1</label>\r\n                    <input type=\"text\" className=\"form-control mt-3\" onChange={e => setSearch1(e.target.value)} id=\"track1\" placeholder=\"Search Spotify\"></input>\r\n                </div>\r\n                {song1 === null ?\r\n                    <div className=\"tracks-container\" style={{display: search1 === \"\" ? \"none\" : \"block\"}}>\r\n                        {searchResults1.map(tracks => (\r\n                            <Dropdown.Item href=\"#\" onClick={() => setSong1(tracks)}>\r\n                                <img src={tracks.albumUrl} style={{height: \"64px\", width: \"64px\"}} alt=\"\" />\r\n                                <a className=\"logo-link\" href={`https://open.spotify.com/track/${tracks.id}`}><img src={spotify} style={{height: \"30px\", width: \"30px\"}} alt=\"\" /></a>\r\n                                <h5 className=\"track-title\">{tracks.title} by </h5>\r\n                                <h5 className=\"track-artist\">{tracks.artist}</h5>\r\n                            </Dropdown.Item> \r\n                        ))}\r\n                    </div>\r\n                :\r\n                    <div className=\"chosen-song\" style={{display: (song1 !== null) ? \"block\" : \"none\"}}>\r\n                        <img src={song1.albumUrl} style={{height: \"64px\", width: \"64px\"}} alt=\"\" />\r\n                        <a className=\"logo-link\" href={`https://open.spotify.com/track/${song1.id}`}><img src={spotify} style={{height: \"30px\", width: \"30px\"}} alt=\"\" /></a>\r\n                        <h5 className=\"track-title\">{song1.title} by </h5>\r\n                        <h5 className=\"track-artist\">{song1.artist}</h5>\r\n                        <button className=\"btn cancel-song\" onClick={() => setSong1(null)}>X</button>\r\n                    </div>\r\n\r\n                }\r\n                <div className=\"form-group mt-4\">\r\n                    <label for=\"track2\">Choose Track 2</label>\r\n                    <input type=\"text\" className=\"form-control mt-3\" id=\"track2\" onChange={e => setSearch2(e.target.value)} placeholder=\"Search Spotify\"></input>\r\n                </div>\r\n                {song2 === null ?\r\n                    <div className=\"tracks-container\" style={{display: search2 === \"\" ? \"none\" : \"block\"}}>\r\n                        {searchResults2.map(tracks => (\r\n                            <Dropdown.Item href=\"#\" onClick={() => setSong2(tracks)}>\r\n                                <img src={tracks.albumUrl} style={{height: \"64px\", width: \"64px\"}} alt=\"\" />\r\n                                <a className=\"logo-link\" href={`https://open.spotify.com/track/${tracks.id}`}><img src={spotify} style={{height: \"30px\", width: \"30px\"}} alt=\"\" /></a>\r\n                                <h5 className=\"track-title\">{tracks.title} by </h5>\r\n                                <h5 className=\"track-artist\">{tracks.artist}</h5>\r\n                            </Dropdown.Item> \r\n                        ))}\r\n                    </div>\r\n                :\r\n                    <div className=\"chosen-song\" style={{display: (song2 !== null) ? \"block\" : \"none\"}}>\r\n                        <img src={song2.albumUrl} href={`https://open.spotify.com/track/${song2.id}`} style={{height: \"64px\", width: \"64px\"}} alt=\"\" />\r\n                        <a className=\"logo-link\" href={`https://open.spotify.com/track/${song2.id}`}><img src={spotify} style={{height: \"30px\", width: \"30px\"}} alt=\"\" /></a>\r\n                        <h5 className=\"track-title\">{song2.title} by </h5>\r\n                        <h5 className=\"track-artist\">{song2.artist}</h5>\r\n                        <button className=\"btn cancel-song\" onClick={() => setSong2(null)}>X</button>\r\n                    </div>\r\n\r\n                }\r\n                \r\n                \r\n                <Link to=\"/\">\r\n                    <button type=\"submit\" onClick={() => handlePlaylist()} className=\"btn btn-success mt-3\">Create Playlist</button>\r\n                </Link>\r\n                {((song1 !== null) && (song2 !== null) && (playlist !== [])) ?\r\n                    <div>\r\n                        <div className=\"playlist-container\">\r\n                            {playlist.map(track => (\r\n                                <div key={track.id}>\r\n                                    <h5 className=\"track-title\">{track.title} by </h5>\r\n                                    <h5 className=\"track-artist\">{track.artist}</h5>\r\n                                </div>\r\n                            ))} \r\n                            \r\n                        </div> \r\n                    </div>\r\n                :\r\n                    <div></div>\r\n                }\r\n                {((created === true) && (song1 !== null) && (song2 !== null)) ?\r\n                    <Link to=\"/\">\r\n                        <button className=\"export-btn btn btn-success\" onClick={() => exportPlaylist()}>Export to Spotify</button>\r\n                    </Link>\r\n                :\r\n                    <div></div>\r\n                }\r\n                \r\n                \r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Forms;","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function useAuth(code) {\r\n    const [accessToken, setAccessToken] = useState();\r\n    const [refreshToken, setRefreshToken] = useState();\r\n    const [expiresIn, setExpiresIn] = useState();\r\n    useEffect(() => {\r\n        axios\r\n        .post('https://www.playfulmusic-app.com/login', {\r\n            code\r\n        })\r\n        .then(res => {\r\n            console.log(res.data);\r\n            setAccessToken(res.data.accessToken);\r\n            setRefreshToken(res.data.refreshToken);\r\n            setExpiresIn(res.data.expiresIn);\r\n            window.history.pushState({}, null, \"/\");\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }, [code])\r\n\r\n    useEffect(() => {\r\n        if (!refreshToken || !expiresIn) {\r\n            return;\r\n        }\r\n        axios\r\n        .post('https://www.playfulmusic-app.com/refresh', {\r\n            refreshToken,\r\n        })\r\n        .then(res => {\r\n            setAccessToken(res.data.accessToken);\r\n            setExpiresIn(res.data.expiresIn);\r\n            window.history.pushState({}, null, \"/\");\r\n        })\r\n        .catch(() => {\r\n            return;\r\n        })\r\n    }, [refreshToken, expiresIn])\r\n\r\n    return accessToken;\r\n}\r\n\r\n\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport LandingPage from './components/LandingPage';\nimport Forms from './components/Forms';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\n\nconst code = new URLSearchParams(window.location.search).get('code');\n\nfunction App() {\n  return (\n    <Router>\n        <Routes>\n          <Route path=\"/\" element={code ? <Forms code={code} /> : <LandingPage />}></Route>\n        </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}